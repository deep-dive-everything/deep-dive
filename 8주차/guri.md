# 27장 배열

## 1. 배열

- 여러개의 값을 순차적으로 나열한 자료구조.
- 요소(element) : 배열이 가지고있는 값
- 인덱스 : 요소의 위치
- 배열은 일반 객체와 다르게 값의 순서와 length 프로퍼티를 가짐.
- 장점 : 인덱스와 length 프로퍼티를 이용해서 특정 순서로 접근할 수 있음.

## 2. 자바스크립트는 배열이 아니다

- 자료구조에서의 배열 : 밀집배열
    - 배열의 요소는 하나의 데이터 타입. 연속적으로 인접
- 자바스크립트에서의 배열 : 희소배열
    - 배열의 요소를 위한 각각의 메모리 공간은 동일한 크기를 갖지 않아도 됨. 연속적으로 이어져 있지 않을수 있음.
    - ⇒ 자바스크립트의 배열은 일반적인 배열의 동작을 흉내낸 특수한 객체
- 자바스크립트의 배열은 일반적인 배열보다 성능면에서 느릴수밖에 없음. 하지만 요소를 삽입 또는 삭제하는 경우 일반적인 배열보다 빠른 성능을 기대할 수 있음.

## 3. length 프로퍼티와 희소 배열

- 요소의 개수. 0이상의 정수. 빈배열의 경우 0임.
- 희소배열은 length와 배열 요소의 개수가 일치하지 않음.
- 희소배열의 length는 배열의 실제 요소 개수보다 언제나 큼.
- 자바스크립트에서 문법적으로 희소배열을 허용하지만 희소배열을 사용하지 않는것이 좋음.
- 같은 타입의 요소를 연속적으로 위치시키도록 해야함.

## 4. 배열 생성

### 4.1 배열 리터럴

- 가장 일반적이고 간편한 배열생성방식

```jsx
const arr = [1, 2, 3]
const arr = []
const arr = [1, , 3] //인덱스가 1인 요소를 갖지 않는 희소배열
```

### 4.2 Array 생성자함수

- 전달된 인수의 개수에 따라 다르게 동작함
- 전달된 인수가 1개이고 숫자인경우 length 프로퍼티값이 인수인 배열 생성

```jsx
const aff = new Array(10)
//length가 10인 희소배열
```

- 전달된 인수가 없는 경우 빈 배열 생성
- 전달된 인수가 2개 이상이거나 숫자가 아닌 경우 인수를 요소로 갖는 배열 생성

### 4.3 Array.of

- 전달된 요소를 인수로 갖는 배열 생성

```jsx
Array.of(1) //[1]
```

### 4.4 Array.from

- 유사배열객체 또는 이터러블 객체를 인수로 전달받아 배열로 변환하여 반환
- 두번째 인수로 전달한 콜백 함수에 첫번째 인수에 의해 생성된 배열의 요소값과 인덱스를 순차적으로 전달하면서 호출하고, 콜백함수의 반환값으로 구성된 배열을 반환함.

## 5. 배열 요소의 참조

- 대괄호 표기법 사용, 대괄호 안에는 인덱스
- 존재하지 않는 요소에 접근하면 undefined 반환

## 6. 배열 요소의 추가와 갱신

- 존재하지 않는 인덱스를 사용해 값을 할당하면 새로운 요소가 추가됨. length값 자동갱신
- 현재 배열의 length보다 큰 인델스로 새로운 요소를 추가하면 희소배열이 됨.
- 이미 존재하는 요소에 값을 재할당하면 요소값이 갱신됨

## 7. 배열 요소의 삭제

- delete연산자 사용 : 객체의 프로퍼티를 삭제함

```jsx
const arr = [1, 2, 3]

delete arr[1]; // [1, empty, 3]
console.log(arr) // 3 : 희소배열이 됨. length에 영향 주지 않음
```

- 희소배열을 만들기떄문에 delete연산자는 사용하지 않는 것이 좋음
- Array.prototype.splice

```jsx
const arr = [1, 2, 3]
arr.splice(1, 1) // arr[1]부터 1개의 요소 제거
console.log(arr) // [1, 3] length 프로퍼티 자동갱신
```

## 8. 배열 메서드

- 원본 배열을 직접 변경하는 메서드, 원본 배열을 직접 변경하지 않고 새로운 배열을 생성하여 반황하는 메서드가 있음.
- 원본 배열을 직접 변경하는 경우 부수효과가 있으므로 사용할떄 주의해야함.
- 가급적 원본 배열을 직접 변경하지 않는 메서드를 사용할것.

## 8.3 Array.prototype.push

- 인수로 전달받은 모든 값을 원본 배열의 마지막 요소로 추가.
- 원본 배열 직접 변경
- 성능면에서 좋지 않음 : length프로퍼티를 사용하여 배열의 마지막에 요소를 직접 추가하는것이 빠름.
- 대신 스프레드 문법 사용할것

## 8.4 Array.prototype.pop

- 원본 배열에서 마지막 요소를 제거하고 제거한 요소 반환.
- 원본 배열 직접 변경

## 8.5 Array.prototype.unshift

- 인수로 전달받은 모든 값을 원본 배열의 선두에 요소로 추가하고 변경된 length프로퍼티를 반환.
- 원본 배열 직접 변경 : 대신 스프레드 문법 사용할것

### 8.7 Array.prototype.concat

- 인수로 전달된 값들을 원본 배열의 마지막 요소로 추가한 새로운 배열을 반환
- 인수가 배열인 경우 배열을 해체해서 새로운 배열의 요소로 추가
- 원본배열 변경되지 않음.
- push와 unshift 매서드를 대체할 수 있음.
- 스프레드 문법으로 대체할 수 있으므로 일관적으로 스프레드 문법을 사용하는것이 좋음

### 8.8 Array.prototype.splice

- 배열 중간에 요소를 추가하거나 중간에 있는 요소를 제거하는 경우
- 원본 배열을 직접 변경함.

### 8.9 Array.prototype.slice

- 인수로 전달된 범위의 요소들을 복사하여 배열로 반환
- 원본배열 변경하지 않음.
- 얕은 복사로 생성됨.

## 9. 배열 고차함수

- 고차함수 : 함수를 인수로 전달받거나 함수를 반환하는 함수
- 순수함수를 통해 부수 효과를 최대한 억제하여 오류를 피하고 프로그램의 안정성을 높임.

### 9.1 Array.prototype.sort

- 요소 정렬. 원본배열 직접 변경. 정렬된 배열 반환.
- 오름차순이 기본.
