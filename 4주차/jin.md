### 16장. 프로퍼티 어트리뷰트

- 내부 슬롯, 내부 메서드 ([[...]]) 

  - 자바스크립트 엔진의 구현 알고리즘을 설명하기 위해 ECMAScript 사양에서 사용하는 의사 프로퍼티와 의사 메서드

  - 자바스크립트 엔진 내부 로직이기에 원칙적으로는 접근, 호출 방법을 제공하지 않는다. (간접적으로 접근하는 방법 존재)

- 프로퍼티 생성
  - 자바스크립트 엔진은 프로퍼티 어트리뷰트(프로퍼티 상태를 나타냄)를 기본값으로 자동 저장
  - 프로퍼티의 상태 : 프로퍼티 값(value), 값의 갱신 가능 여부(writable), 열거 가능 여부(enumerable), 정의 가능 여부(configurable)
  - 프로퍼티 어트리뷰트 : 자바스크립트 엔진이 관리하는 내부 상태 값(내부 슬롯) &rarr; 메서드 사용해서 간접적으로 확인
    - Object.getOwnPropertyDescriptor (객체의 참조, 프로퍼티 키)
      - 프로퍼티 디스크립터 객체에 반환
- 프로퍼티
  - 데이터 프로퍼티 : 키와 값으로 구성
  - 접근자 프로퍼티 : 자체적으로 값을 가지고 있지 않고 접근자 함수(다른 데이터 프로퍼티의 값을 읽거나 저장할 때 호출)로 구성된 프로퍼티
    - get, set, enumerable, configurable
  - 데이터 프로퍼티와 접근자 프로퍼티 구분은 프로퍼티 디스크립터 객체를 통해 가능
-  프로퍼티 정의
  - 새로운 프로퍼티를 추가하며 프로퍼티 어트리뷰트를 명시적으로 정의 또는 기본 프로퍼티의 프로퍼티 어트리뷰트를 재정의
  - Object.defineProperty(객체의 참조, 데이터 프로퍼티 키, 프로퍼티 디스크립트 객체) 
- 객체
  - 재할당 없이 변경 가능
  - 프로퍼티 추가, 삭제, 값 갱신, 재정의 가능
- 객체 변경 방지 메서드 (직속 프로퍼티 변경만 반지, 중첩 객체에는 영향없음)
  - 객체 확장 금지 (Object.preventExtension) : 프로퍼티 추가 금지
  - 객체 밀봉 (Object.seal) : 읽기 쓰기만 가능
  - 객체 동결 (Object.freeze) : 읽기만 가능
  - 불변 객체 변경 방지를 위해서는 모든 프로퍼티에 대해 재귀적으로 Object.freeze 호출



### 17장. 생성자 함수에 의한 객체 생성

- 생성자 함수
  - 일반 함수와 동일한 방법으로 정의하지만 new 연산자와 함께 호출하면 생성자 함수로 동작하여 객체(인스턴스)를 생성
    - Object 생성자 함수, 빌트인 생성자 함수
    - Object 생성자 함수보다 객체 리터럴 방식이 간편
    - 객체 리터럴에 의한 객체 생성 방식
      - 장점 : 직관적이고 간편
      - 단점 : 단 하나의 객체만 생성해야하므로 프로퍼티 구조가 동일한 객체 여러 개 생성 시, 비효율적
    - 생성자 함수에 의한 객체 생성 방식
      - 장점 : 템플릿처럼 사용하여 프로퍼티 구조가 동일한 객체 여러 개 생성 시, 간편
      - 인스턴스 생성(필수) &rarr; 생성된 인스턴스 초기화(옵션)
        - 인스턴스 생성
          - 빈 객체 생성 &rarr; this에 바인딩 (런타임 이전)
            - 생성자 함수 내부 this는 생성자 함수가 생성할 인스턴스를 가르키는 원인
        - 인스턴스 초기화
          - this에 바인딩되어 있는 인스턴스 초기화
            - 프로퍼티 추가, 초기값 할당하여 초기화 또는 고정값 할당
        - 인스턴스 반환
          - 완성된 인스턴스가 바인딩된 this가 암묵적으로 반환
          - this가 아닌 다른 값을 반환하는 것은 생성자 함수의 기본 동작을 훼손하므로 생성자 함수 내부 return문을 반드시 생략 필요
- 모든 함수 객체는 호출할 수 있지만, 모든 함수 객체를 생성자 함수로 호출할 수 있는 것은 아님
  - 자바스크립트 엔진은 함수 정의 방식에 따라 함수 객체를 구분
    - non-constructor : 일반 함수로서만 호출할 수 있는 객체	
      - 화살표 함수, 메서드 축약 표현으로 정의
    - constructor : 일반 함수 또는 생성자 함수로서 호출할 수 있는 객체
      - 일반 함수 (함수 선언문, 함수 표현식으로 정의)



### 18장. 함수와 일급객체

- 일급 객체 조건
  - 무명의 리터럴로 생성 가능(런타임 생성 가능)
  - 변수, 자료구조에 저장 가능
  - 함수의 매개변수에 전달 가능
  - 함수의 반환값으로 사용 가능
- 함수가 일급 객체인 경우 함수를 객체와 동일하게 사용 가능함을 의미 &rarr; 값을 사용할 수 있는 곳이면 어디서나 리터럴로 정의 가능, 런타임 시, 함수 객체로 평가
  - 함수형 프로그래밍이 가능하게 하는 자바스크립트의 장점
  - 함수 객체 vs 일반 객체
    - 일반 객체 : 호출 불가능
    - 함수 객체 : 호출 가능, 함수 고유 프로퍼티 소유
      - Object.getOwnPropertyDescriptors(함수명)으로 확인 가능
        - arguments 프로퍼티 : 인수 정보를 담고 있는 유사 배열 객체(순회 가능)
        - caller 프로퍼티 : 함수 자신을 호출한 함수
        - length 프로퍼티 : 함수 정의 시, 선언한 매개변수의 개수
        - name 프로퍼티 : 함수 이름
        - _ _ proto _ _ 접근자 프로퍼티 : 내부 슬롯이 가르키는 프로토타입 객체에 접근하기 위해 사용
        - prototype 프로퍼티 : constructor 만이 소유하는 프로퍼티

#### 느낀 점

구현을 위한 공부를 할 때는 내부 동작을 다루는 부분은 간단히 읽고 넘어가곤 했는데 꼼꼼히 읽어보는 시간을 가지게 되어 좋았습니다. 코드를 살펴볼 때 더 다양하고 정확한 정보를 취득하는 방법을 알게되어 유용했습니다.



