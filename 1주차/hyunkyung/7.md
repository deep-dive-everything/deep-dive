## 7장. 연산자
### 7.1 산술 연산자
산술 연산자는 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다. 산술 연산이 불가능한 경우, NaN을 반환한다.
산술 연산자는 피연산자의 개수에 따라 이항 산술 연산자와 단항 산술 연산자로 구분할 수 있다.

#### 7.1.1 이항 산술 연산자
이항 산술 연산자는 2개의 피연산자를 대상으로 연산을 수행한다. 이항 산술 연산자는 다음과 같다.
모든 이항 산술 연산자는 피연산자의 값을 변경하는 부수 효과가 없다. 즉, 피연산자의 값이 변하지 않는다.

| 연산자 | 의미 | 부수효과 |
|:---:|:---:|:---:|
| + | 덧셈 | - |
| - | 뺄셈 | - |
| * | 곱셈 | - |
| / | 나눗셈 | - |
| % | 나머지 | - |

#### 7.1.2 단항 산술 연산자
단항 산술 연산자는 피연산자가 1개이며, 피연산자 앞에 위치하는 경우와 뒤에 위치하는 경우가 있다. 단항 산술 연산자는 다음과 같다.

| 연산자 | 의미 | 부수효과 |
|:---:|:---:|:---:|
| ++ | 증가 | O |
| -- | 감소 | O |
| + | 양수 | - |
| - | 음수 | - |

증가/감소 연산자는 위치에 의미가 있다.
- 전위(prefix) 증가/감소 연산자: 피연산자의 값을 변경한 후 증가/감소 연산을 수행한다.
- 후위(postfix) 증가/감소 연산자: 피연산자의 값을 변경하기 전 증가/감소 연산을 수행한다.

#### 7.1.3 문자열 연결 연산자
+ 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.

```javascript
var x = 1 + 2; // 숫자 + 숫자 => 숫자
console.log(x); // 3

var x = 1 + '2'; // 숫자 + 문자열 => 문자열
console.log(x); // 12

1 + true; // 숫자 + 불리언 => 숫자 (true → 1)
1 + false; // 숫자 + 불리언 => 숫자 (false → 0)
1 + null; // 숫자 + null => 숫자 (null → 0)
1 + undefined; // 숫자 + undefined => NaN
```

### 7.2 할당 연산자
할당 연산자는 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당한다.

| 연산자 | 예시 | 동일 표현 | 부수 효과 |
|:---:|:---:|:---:|:---:|
| = | x = 2 | x = 2 | O |
| += | x += 2 | x = x + 2 | O |
| -= | x -= 2 | x = x - 2 | O |
| *= | x *= 2 | x = x * 2 | O |
| /= | x /= 2 | x = x / 2 | O |
| %= | x %= 2 | x = x % 2 | O |

### 7.3 비교 연산자
비교 연산자는 좌항과 우항의 피연산자를 비교한 다음 그 결과를 불리언 값으로 반환한다.

#### 7.3.1 동등/일치 비교 연산자
동등 비교 연산자는 좌항과 우항의 피연산자를 비교할 때 먼저 암묵적 타입 변환을 통해 타입을 일치시킨 후 같은 값인지 비교한다. 일치 비교 연산자는 타입과 값이 모두 같은지 비교한다.
동등 비교 연산자는 느슨한 비교를 수행하고 일치 비교 연산자는 엄격한 비교를 수행한다.

| 연산자 | 의미 | 사례 | 설명 | 부수 효과 |
|:---:|:---:|:---:|:---:|:---:|
| == | 동등 비교 | x == y | x와 y의 값이 같으면 true를 반환한다. | O |
| === | 일치 비교 | x === y | x와 y의 값과 타입이 모두 같으면 true를 반환한다. | X |
| != | 부동등 비교 | x != y | x와 y의 값이 다르면 true를 반환한다. | O |
| !== | 불일치 비교 | x !== y | x와 y의 값과 타입이 모두 다르면 true를 반환한다. | X |

일치 비교 연산자에서 주의할 것은 Nan이다. NaN은 자신과 일치하지 않는 유일한 값이다. 따라서 NaN과 NaN은 일치하지 않는다.
숫자가 NaN인지 확인하려면 isNaN 함수를 사용한다.

숫자 0도 주의하자. -0과 +0은 일치하지만 동등하지 않다.
ES6에서 도입된 Object.is 메서드는 NaN과 NaN을 비롯한 일치하지 않는 특별한 값들을 비교할 때 유용하다.
```javascript
console.log(0 === -0); // true
console.log(Object.is(0, -0)); // false

console.log(NaN === NaN); // false
console.log(Object.is(NaN, NaN)); // true
```

#### 7.3.2 대소 관계 비교 연산자
대소 관계 비교 연산자는 좌항과 우항의 피연산자를 비교한 다음 그 결과를 불리언 값으로 반환한다.

| 연산자 | 예제 | 설명 | 부수효과 |
|:---:|:---:|:---:|:---:|
| > | x > y | x가 y보다 크면 true를 반환한다. | X |
| < | x < y | x가 y보다 작으면 true를 반환한다. | X |
| >= | x >= y | x가 y보다 크거나 같으면 true를 반환한다. | X |
| <= | x <= y | x가 y보다 작거나 같으면 true를 반환한다. | X |

### 7.4 삼항 조건 연산자
삼항 조건 연산자는 조건식의 평가 결과에 따라 반환할 값을 결정한다.

```javascript
var x = 2;
var result = x % 2 ? '홀수' : '짝수';
console.log(result); // 짝수
```

### 7.5 논리 연산자
논리 연산자는 우항과 좌항의 피연산자를 논리 연산한다.

| 논리 연산자 | 의미 | 부수효과 |
|:---:|:---:|:---:|
| && | 논리곱(AND) | - |
| \|\| | 논리합(OR) | - |
| ! | 논리 부정(NOT) | - |

논리 연산자는 피연산자를 불리언 값으로 평가하고, 논리 연산을 수행한 다음 결과를 반환한다. 
논리 부정 연산자는 피연산자를 불리언 값으로 변환한 다음 논리 부정 연산을 수행한다.

```javascript
!0; // true
!NaN; // true
!''; // true
!'Hello'; // false
```

논리 연산자는 단축 평가(short-circuit evaluation)를 수행한다.
```javascript
'Cat' && 'Dog'; // 'Dog'
```

논리 연산자로 구성된 복잡한 표현식은 가독성이 좋지 않아 한눈에 이해하기 어려울 때가 있다. 이러한 경우 드 모르간의 법칙을 활용하면 가독성을 높일 수 있다.
```javascript
!(x || y) === (!x && !y)
!(x && y) === (!x || !y)
```

### 7.6 쉼표 연산자
쉼표 연산자는 왼쪽 피연산자부터 차례대로 피연산자를 평가하고 마지막 피연산자의 평가 결과를 반환한다.

```javascript
var x, y, z;
x = 1, y = 2, z = 3; // 3
```

### 7.7 그룹 연산자
그룹 연산자는 괄호로 피연산자를 감싸는 역할을 한다. 그룹 연산자는 표현식을 평가할 때 우선순위를 조절하는 역할을 한다.

```javascript
10 * 2 + 3; // 23
10 * (2 + 3); // 50
```

### 7.8 typeof 연산자
typeof 연산자는 피연산자의 데이터 타입을 문자열로 반환한다. typeof 연산자는 7가지 문자열 "string", "number", "boolean", "undefined", "symbol", "object", "function" 중 하나를 반환한다.
"null"을 반환하는 경우는 없으며 함수의 경우 "function"을 반환한다.

```javascript
typeof ''; // string
typeof 1; // number
typeof NaN; // number
typeof true; // boolean
typeof undefined; // undefined
typeof Symbol(); // symbol
typeof null; // object
typeof []; // object
typeof {}; // object
typeof new Date(); // object
typeof /test/gi // object
typeof function(){} //function
```

따라서 값이 Null 타입인지 확인할 때는 typeof 연산자를 사용하지 않고 일치 비교 연산자를 사용한다.
```javascript
var foo = null;
console.log(typeof foo === null); // false
console.log(foo === null); // true
```
또 하나 주의해야 할 것이 있다. 선언하지 않은 식별자를 Typeof 연산자로 연산해보면 ReferenceError가 발생하지 않고 "undefined"를 반환한다.
```javascript
console.log(typeof undeclared); // undefined
```

### 7.9 지수 연산자
ES7에서 도입된 지수 연산자는 좌항의 피연산자를 밑으로, 우항의 피연산자를 지수로 거듭제곱하여 숫자 값을 반환한다.

```javascript
2 ** 2; // 4
2 ** 0; // 1
2 ** 3; // 8
```

지수 연산자가 도입되기 이전에는 Math.pow 메서드를 사용했다.
```javascript
Math.pow(2, 2); // 4
Math.pow(2, 0); // 1
Math.pow(2, 3); // 8
```

지수 연산자는 다음과 같은 경우 Math.pow 메서드보다 더 짧고 가독성이 좋다.
```javascript
// Math.pow 메서드
Math.pow(2, Math.pow(2, 3)); // 256

// 지수 연산자
2 ** 2 ** 3; // 256
```

### 7.10 그 외의 연산자
그 외의 연산자는 다른 장에서 다루기로 한다.

### 7.11 연산자의 부수 효과
대부분의 연산자는 부수 효과를 가지지 않지만 할당 연산자, 증가/감소 연산자, delete 연산자는 부수 효과를 가진다.
```javascript
var x;
x = 1; // 할당 연산자
x++; // 증가 연산자
delete x; // delete 연산자
```

### 7.12 연산자 우선순위
연산자 우선순위는 연산자가 피연산자를 평가하는 순서를 결정한다. 연산자 우선순위는 다음과 같다.

| 우선순위 |      연산자       | 
|:---:|:--------------:|
| 1 |       ()       |
| 2 |new(매개변수 존재), . , [](프로퍼티접근), ()(함수호출), ?.(옵셔널 체이닝)|
| 3 |new(매개변수 미존재)|
| 4 | x++, x-- |
| 5 | !x, +x, -x, ++x, --x, typeof, delete |
| 6 | ** |
| 7 | *, /, % |
| 8 | +, - |
| 9 | <<, >>, >>> |
| 10 | <, <=, >, >=, in, instanceof |
| 11 | ==, !=, ===, !== |
| 12 | ??(null 병합 연산자) |
| 13 | && |
| 14 | \|\| |
| 15 | ? : |
| 16 | =, +=, -=, *=, /=, %=, **=, <<=, >>=, >>>=, &=, ^=, \|= |
| 17 | , |

### 7.13 연산자 결합 순서
연산자 결합 순서는 연산자의 우선순위가 동일한 경우 연산자의 결합 순서를 결정한다. 대부분의 연산자는 왼쪽에서 오른쪽으로 평가하지만 할당 연산자, 증가/감소 연산자는 오른쪽에서 왼쪽으로 평가한다.
